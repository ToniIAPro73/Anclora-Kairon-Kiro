<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Panel de Tareas Inteligente</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Estilos adicionales para el modo oscuro */
        .dark body {
            background: linear-gradient(135deg, #1f2937 0%, #334155 100%);
            color: #f9fafb;
        }

        /* Scrollbar personalizado */
        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.1);
        }

        ::-webkit-scrollbar-thumb {
            background: rgba(255, 255, 255, 0.3);
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: rgba(255, 255, 255, 0.5);
        }
    </style>
</head>
<body class="bg-gradient-to-br from-indigo-100 to-purple-200 dark:from-gray-900 dark:to-slate-800 min-h-screen">
    <div id="root"></div>

    <script type="text/babel">
        // Componentes de íconos SVG
        const HomeIcon = ({ className }) => (
          React.createElement('svg', { className, xmlns: "http://www.w3.org/2000/svg", fill: "none", viewBox: "0 0 24 24", stroke: "currentColor" },
            React.createElement('path', { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: 2, d: "M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6" })
          )
        );

        const StarIcon = ({ className }) => (
          React.createElement('svg', { className, xmlns: "http://www.w3.org/2000/svg", fill: "none", viewBox: "0 0 24 24", stroke: "currentColor" },
            React.createElement('path', { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: 2, d: "M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.196-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.783-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z" })
          )
        );

        const CalendarIcon = ({ className }) => (
          React.createElement('svg', { className, xmlns: "http://www.w3.org/2000/svg", fill: "none", viewBox: "0 0 24 24", stroke: "currentColor" },
            React.createElement('path', { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: 2, d: "M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" })
          )
        );

        const GlobeIcon = ({ className }) => (
          React.createElement('svg', { className, xmlns: "http://www.w3.org/2000/svg", fill: "none", viewBox: "0 0 24 24", stroke: "currentColor" },
            React.createElement('path', { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: 2, d: "M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2h8a2 2 0 002-2v-1a2 2 0 012-2h1.945M7.737 16.516a8.001 8.001 0 008.526 0M12 21a9 9 0 100-18 9 9 0 000 18z" })
          )
        );

        const PlusIcon = ({ className }) => (
          React.createElement('svg', { className, xmlns: "http://www.w3.org/2000/svg", fill: "none", viewBox: "0 0 24 24", stroke: "currentColor" },
            React.createElement('path', { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: 2, d: "M12 6v6m0 0v6m0-6h6m-6 0H6" })
          )
        );

        const ListIcon = ({ className }) => (
          React.createElement('svg', { className, xmlns: "http://www.w3.org/2000/svg", fill: "none", viewBox: "0 0 24 24", stroke: "currentColor" },
            React.createElement('path', { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: 2, d: "M4 6h16M4 10h16M4 14h16M4 18h16" })
          )
        );

        const SunIcon = ({ className }) => (
          React.createElement('svg', { className, xmlns: "http://www.w3.org/2000/svg", fill: "none", viewBox: "0 0 24 24", stroke: "currentColor" },
            React.createElement('path', { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: 2, d: "M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M12 16a4 4 0 100-8 4 4 0 000 8z" })
          )
        );

        const MoonIcon = ({ className }) => (
          React.createElement('svg', { className, xmlns: "http://www.w3.org/2000/svg", fill: "none", viewBox: "0 0 24 24", stroke: "currentColor" },
            React.createElement('path', { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: 2, d: "M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z" })
          )
        );

        const MenuIcon = ({ className }) => (
          React.createElement('svg', { className, xmlns: "http://www.w3.org/2000/svg", fill: "none", viewBox: "0 0 24 24", stroke: "currentColor" },
            React.createElement('path', { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: 2, d: "M4 6h16M4 12h16M4 18h16" })
          )
        );

        const ChatIcon = ({ className }) => (
          React.createElement('svg', { className, xmlns: "http://www.w3.org/2000/svg", fill: "none", viewBox: "0 0 24 24", stroke: "currentColor" },
            React.createElement('path', { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: 2, d: "M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z" })
          )
        );

        const SendIcon = ({ className }) => (
          React.createElement('svg', { className, xmlns: "http://www.w3.org/2000/svg", fill: "none", viewBox: "0 0 24 24", stroke: "currentColor" },
            React.createElement('path', { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: 2, d: "M12 19l9 2-9-18-9 18 9-2zm0 0v-8" })
          )
        );

        // Datos simulados
        const initialTasks = [
          { id: 1, title: 'Diseñar la landing page', description: 'Crear los mockups en Figma', dueDate: new Date(new Date().setDate(new Date().getDate() + 1)), isImportant: true, status: 'Por Hacer', listId: 1, priority: 'Alta', duration: 2 },
          { id: 2, title: 'Reunión de equipo', description: 'Discutir el progreso del sprint', dueDate: new Date(), isImportant: true, status: 'Por Hacer', listId: 1, priority: 'Alta', duration: 0.25 },
          { id: 3, title: 'Desarrollar componente de Auth', description: 'Implementar login y registro', dueDate: new Date(new Date().setDate(new Date().getDate() + 3)), isImportant: false, status: 'En Progreso', listId: 1, priority: 'Media', duration: 3 },
          { id: 4, title: 'Comprar víveres', description: 'Leche, pan, huevos', dueDate: new Date(), isImportant: false, status: 'Hecho', listId: 2, priority: 'Baja', duration: 0.1 },
          { id: 5, title: 'Planear viaje de vacaciones', description: 'Investigar destinos y vuelos', dueDate: new Date(new Date().setDate(new Date().getDate() + 15)), isImportant: false, status: 'Por Hacer', listId: 2, priority: 'Media', duration: 5 },
        ];

        const initialLists = [
          { id: 1, name: 'Proyecto Titán', priority: 'Alta' },
          { id: 2, name: 'Personal', priority: 'Media' }
        ];

        const KANBAN_COLUMNS = ['Por Hacer', 'En Progreso', 'Hecho'];

        // Componente TaskCard
        const TaskCard = ({ task, onDragStart, listMap }) => {
          const dueDate = new Date(task.dueDate);
          const today = new Date();
          const isOverdue = dueDate < today && task.status !== 'Hecho';
          const isToday = dueDate.toDateString() === today.toDateString();
          const dateColor = isOverdue ? 'text-red-400' : isToday ? 'text-blue-400' : 'dark:text-gray-400 text-gray-500';

          return React.createElement('div', {
            draggable: true,
            onDragStart: (e) => onDragStart(e, task.id),
            className: "bg-white/20 dark:bg-gray-800/20 backdrop-blur-lg border border-white/30 dark:border-gray-700/30 rounded-lg p-4 mb-4 cursor-grab active:cursor-grabbing transition-all duration-300 hover:shadow-xl hover:scale-105"
          },
            React.createElement('h4', { className: "font-bold dark:text-gray-100 text-gray-800" }, task.title),
            React.createElement('p', { className: "text-sm dark:text-gray-300 text-gray-600 my-2" }, task.description),
            React.createElement('div', { className: "flex justify-between items-center mt-3 text-xs" },
              React.createElement('span', { className: dateColor }, dueDate.toLocaleDateString('es-ES', { day: 'numeric', month: 'short' })),
              React.createElement('div', { className: "flex items-center space-x-2" },
                task.isImportant && React.createElement(StarIcon, { className: "w-4 h-4 text-yellow-500" }),
                listMap[task.listId] && React.createElement('span', { className: "bg-sky-200 text-sky-800 dark:bg-sky-800 dark:text-sky-200 px-2 py-1 rounded-full" }, listMap[task.listId])
              )
            )
          );
        };

        // Componente KanbanBoard
        const KanbanBoard = ({ tasks, setTasks, lists }) => {
          const listMap = React.useMemo(() => lists.reduce((acc, list) => {
            acc[list.id] = list.name;
            return acc;
          }, {}), [lists]);

          const handleDragStart = (e, taskId) => {
            e.dataTransfer.setData("taskId", taskId);
          };

          const handleDragOver = (e) => {
            e.preventDefault();
          };

          const handleDrop = (e, newStatus) => {
            const taskId = e.dataTransfer.getData("taskId");
            setTasks(prevTasks =>
              prevTasks.map(task =>
                task.id === parseInt(taskId) ? { ...task, status: newStatus } : task
              )
            );
          };

          const tasksByStatus = React.useMemo(() => {
            return KANBAN_COLUMNS.reduce((acc, status) => {
              acc[status] = tasks.filter(task => task.status === status);
              return acc;
            }, {});
          }, [tasks]);

          return React.createElement('div', { className: "flex flex-col md:flex-row space-y-4 md:space-y-0 md:space-x-4 p-4" },
            KANBAN_COLUMNS.map(status =>
              React.createElement('div', {
                key: status,
                onDragOver: handleDragOver,
                onDrop: (e) => handleDrop(e, status),
                className: "bg-white/10 dark:bg-gray-900/40 rounded-xl p-4 w-full md:w-1/3 min-h-[50vh] transition-colors duration-300"
              },
                React.createElement('h3', { className: "font-bold text-lg mb-4 text-center dark:text-gray-200 text-gray-700 border-b-2 border-gray-500/20 pb-2" }, status),
                React.createElement('div', { className: "space-y-4" },
                  tasksByStatus[status].map(task =>
                    React.createElement(TaskCard, { key: task.id, task, onDragStart: handleDragStart, listMap })
                  )
                )
              )
            )
          );
        };

        // Componente principal simplificado
        const App = () => {
          const [activeSection, setActiveSection] = React.useState('Vista Global');
          const [tasks, setTasks] = React.useState(initialTasks);
          const [lists, setLists] = React.useState(initialLists);

          const renderSection = () => {
            switch (activeSection) {
              case 'Vista Global':
                return React.createElement(KanbanBoard, { tasks, setTasks, lists });
              default:
                return React.createElement('div', { className: "p-8" },
                  React.createElement('h2', { className: "text-3xl font-bold mb-6 dark:text-white text-gray-800" }, "Panel de Tareas Inteligente"),
                  React.createElement('p', { className: "dark:text-gray-400 text-gray-600" }, "Selecciona 'Vista Global' para ver las tareas en formato Kanban.")
                );
            }
          };

          return React.createElement('div', { className: "min-h-screen bg-gradient-to-br from-indigo-100 to-purple-200 dark:from-gray-900 dark:to-slate-800" },
            React.createElement('header', { className: "bg-white/20 dark:bg-gray-800/20 backdrop-blur-lg border-b border-white/30 dark:border-gray-700/30 p-4" },
              React.createElement('div', { className: "flex justify-between items-center" },
                React.createElement('h1', { className: "text-2xl font-bold text-gray-800 dark:text-white" }, "Anclora Kairon"),
                React.createElement('div', { className: "flex space-x-4" },
                  React.createElement('button', {
                    onClick: () => setActiveSection('Vista Global'),
                    className: activeSection === 'Vista Global' ? 'bg-indigo-600 text-white px-4 py-2 rounded-lg' : 'bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-white px-4 py-2 rounded-lg'
                  }, 'Vista Global'),
                  React.createElement('button', {
                    onClick: () => setActiveSection('Inicio'),
                    className: activeSection === 'Inicio' ? 'bg-indigo-600 text-white px-4 py-2 rounded-lg' : 'bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-white px-4 py-2 rounded-lg'
                  }, 'Inicio')
                )
              )
            ),
            React.createElement('main', { className: "flex-1" }, renderSection())
          );
        };

        // Renderizar la aplicación
        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(React.createElement(App));
    </script>
</body>
</html>